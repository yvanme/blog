<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Centos7下Azkaban搭建 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.c026dc41.css" as="style"><link rel="preload" href="/assets/js/app.1a2965df.js" as="script"><link rel="preload" href="/assets/js/2.6627ffb9.js" as="script"><link rel="preload" href="/assets/js/41.a93264c1.js" as="script"><link rel="prefetch" href="/assets/js/10.fa7491ea.js"><link rel="prefetch" href="/assets/js/100.6ec663fa.js"><link rel="prefetch" href="/assets/js/101.f0bd7d66.js"><link rel="prefetch" href="/assets/js/102.6c9e344c.js"><link rel="prefetch" href="/assets/js/103.1c50f2c4.js"><link rel="prefetch" href="/assets/js/104.aa3587aa.js"><link rel="prefetch" href="/assets/js/105.543d30e7.js"><link rel="prefetch" href="/assets/js/106.673f4902.js"><link rel="prefetch" href="/assets/js/107.54553d8f.js"><link rel="prefetch" href="/assets/js/108.5055e867.js"><link rel="prefetch" href="/assets/js/109.70719c43.js"><link rel="prefetch" href="/assets/js/11.297abe04.js"><link rel="prefetch" href="/assets/js/110.6fcc1599.js"><link rel="prefetch" href="/assets/js/111.d082de14.js"><link rel="prefetch" href="/assets/js/112.6284478c.js"><link rel="prefetch" href="/assets/js/113.f72e57a2.js"><link rel="prefetch" href="/assets/js/114.0bbb7ba4.js"><link rel="prefetch" href="/assets/js/115.ec69303e.js"><link rel="prefetch" href="/assets/js/116.946eafe6.js"><link rel="prefetch" href="/assets/js/117.bf7c5777.js"><link rel="prefetch" href="/assets/js/118.a8d3e2cb.js"><link rel="prefetch" href="/assets/js/119.7a252797.js"><link rel="prefetch" href="/assets/js/12.5e2c47ba.js"><link rel="prefetch" href="/assets/js/120.570f3856.js"><link rel="prefetch" href="/assets/js/121.18859404.js"><link rel="prefetch" href="/assets/js/122.316a24ec.js"><link rel="prefetch" href="/assets/js/123.f27ed336.js"><link rel="prefetch" href="/assets/js/124.6c257a21.js"><link rel="prefetch" href="/assets/js/125.2a76371b.js"><link rel="prefetch" href="/assets/js/126.80e58eff.js"><link rel="prefetch" href="/assets/js/127.e9acd77c.js"><link rel="prefetch" href="/assets/js/128.a03989aa.js"><link rel="prefetch" href="/assets/js/129.bf0e7ff6.js"><link rel="prefetch" href="/assets/js/13.f15c9cfa.js"><link rel="prefetch" href="/assets/js/130.59827558.js"><link rel="prefetch" href="/assets/js/131.4798ef84.js"><link rel="prefetch" href="/assets/js/132.9ad28776.js"><link rel="prefetch" href="/assets/js/133.6d4dba72.js"><link rel="prefetch" href="/assets/js/134.93f85241.js"><link rel="prefetch" href="/assets/js/135.f7bc8f82.js"><link rel="prefetch" href="/assets/js/136.35705b9b.js"><link rel="prefetch" href="/assets/js/137.10dad7f9.js"><link rel="prefetch" href="/assets/js/138.fc578cd7.js"><link rel="prefetch" href="/assets/js/139.52538c85.js"><link rel="prefetch" href="/assets/js/14.928d5ff5.js"><link rel="prefetch" href="/assets/js/140.14bada7f.js"><link rel="prefetch" href="/assets/js/141.978fc415.js"><link rel="prefetch" href="/assets/js/142.6286c54d.js"><link rel="prefetch" href="/assets/js/143.b78f98d8.js"><link rel="prefetch" href="/assets/js/144.221257f8.js"><link rel="prefetch" href="/assets/js/145.cd7b7e62.js"><link rel="prefetch" href="/assets/js/146.2c968580.js"><link rel="prefetch" href="/assets/js/147.04766257.js"><link rel="prefetch" href="/assets/js/148.2a1b833d.js"><link rel="prefetch" href="/assets/js/149.fab3eb14.js"><link rel="prefetch" href="/assets/js/15.340ede72.js"><link rel="prefetch" href="/assets/js/150.207ca2b1.js"><link rel="prefetch" href="/assets/js/151.01ade5df.js"><link rel="prefetch" href="/assets/js/152.29c6f449.js"><link rel="prefetch" href="/assets/js/153.84e5613c.js"><link rel="prefetch" href="/assets/js/154.855b8e1b.js"><link rel="prefetch" href="/assets/js/155.4eef755b.js"><link rel="prefetch" href="/assets/js/156.1cf43a30.js"><link rel="prefetch" href="/assets/js/157.670857c8.js"><link rel="prefetch" href="/assets/js/158.2c4907fd.js"><link rel="prefetch" href="/assets/js/159.1a475d9f.js"><link rel="prefetch" href="/assets/js/16.ee076304.js"><link rel="prefetch" href="/assets/js/160.751386d6.js"><link rel="prefetch" href="/assets/js/161.029d026f.js"><link rel="prefetch" href="/assets/js/162.cd96c75d.js"><link rel="prefetch" href="/assets/js/163.afb10cca.js"><link rel="prefetch" href="/assets/js/164.84876b57.js"><link rel="prefetch" href="/assets/js/165.8e421d01.js"><link rel="prefetch" href="/assets/js/166.3f7d3720.js"><link rel="prefetch" href="/assets/js/167.4abcb7f5.js"><link rel="prefetch" href="/assets/js/168.f8a4414e.js"><link rel="prefetch" href="/assets/js/169.8f6cd8c4.js"><link rel="prefetch" href="/assets/js/17.57104120.js"><link rel="prefetch" href="/assets/js/170.d87bae39.js"><link rel="prefetch" href="/assets/js/171.287a4932.js"><link rel="prefetch" href="/assets/js/172.3677b47c.js"><link rel="prefetch" href="/assets/js/173.cfebc801.js"><link rel="prefetch" href="/assets/js/174.e2630218.js"><link rel="prefetch" href="/assets/js/175.f45c7f9e.js"><link rel="prefetch" href="/assets/js/176.dfcfbef7.js"><link rel="prefetch" href="/assets/js/177.b65430e8.js"><link rel="prefetch" href="/assets/js/178.bd27017b.js"><link rel="prefetch" href="/assets/js/179.0e52e71d.js"><link rel="prefetch" href="/assets/js/18.4d21de83.js"><link rel="prefetch" href="/assets/js/180.4514aae8.js"><link rel="prefetch" href="/assets/js/181.15a84c10.js"><link rel="prefetch" href="/assets/js/19.731e9d60.js"><link rel="prefetch" href="/assets/js/20.c6f8b1e5.js"><link rel="prefetch" href="/assets/js/21.a1a72534.js"><link rel="prefetch" href="/assets/js/22.2fc3193d.js"><link rel="prefetch" href="/assets/js/23.d662c5f6.js"><link rel="prefetch" href="/assets/js/24.542d535a.js"><link rel="prefetch" href="/assets/js/25.93a5f4ca.js"><link rel="prefetch" href="/assets/js/26.496f01ff.js"><link rel="prefetch" href="/assets/js/27.b8ee04b0.js"><link rel="prefetch" href="/assets/js/28.9463eae0.js"><link rel="prefetch" href="/assets/js/29.726379e8.js"><link rel="prefetch" href="/assets/js/3.ca102039.js"><link rel="prefetch" href="/assets/js/30.b324fa05.js"><link rel="prefetch" href="/assets/js/31.27a73789.js"><link rel="prefetch" href="/assets/js/32.b9675534.js"><link rel="prefetch" href="/assets/js/33.a635763d.js"><link rel="prefetch" href="/assets/js/34.f446b525.js"><link rel="prefetch" href="/assets/js/35.5e68b298.js"><link rel="prefetch" href="/assets/js/36.59310c49.js"><link rel="prefetch" href="/assets/js/37.f24f06f7.js"><link rel="prefetch" href="/assets/js/38.612624da.js"><link rel="prefetch" href="/assets/js/39.b00f0c51.js"><link rel="prefetch" href="/assets/js/4.de3705ca.js"><link rel="prefetch" href="/assets/js/40.4ea94612.js"><link rel="prefetch" href="/assets/js/42.c2859970.js"><link rel="prefetch" href="/assets/js/43.b284b223.js"><link rel="prefetch" href="/assets/js/44.11474da0.js"><link rel="prefetch" href="/assets/js/45.8e31d6ae.js"><link rel="prefetch" href="/assets/js/46.f69478e5.js"><link rel="prefetch" href="/assets/js/47.fe8e6887.js"><link rel="prefetch" href="/assets/js/48.62d613d5.js"><link rel="prefetch" href="/assets/js/49.59900f40.js"><link rel="prefetch" href="/assets/js/5.429e70f5.js"><link rel="prefetch" href="/assets/js/50.94d7fffc.js"><link rel="prefetch" href="/assets/js/51.c70a2858.js"><link rel="prefetch" href="/assets/js/52.037a16a3.js"><link rel="prefetch" href="/assets/js/53.92a6afa5.js"><link rel="prefetch" href="/assets/js/54.4e1bffc3.js"><link rel="prefetch" href="/assets/js/55.660739f5.js"><link rel="prefetch" href="/assets/js/56.a89f19e5.js"><link rel="prefetch" href="/assets/js/57.fe67e843.js"><link rel="prefetch" href="/assets/js/58.8da5a8d2.js"><link rel="prefetch" href="/assets/js/59.a11d0ee6.js"><link rel="prefetch" href="/assets/js/6.58b48595.js"><link rel="prefetch" href="/assets/js/60.94365585.js"><link rel="prefetch" href="/assets/js/61.a8aebfff.js"><link rel="prefetch" href="/assets/js/62.0cd9f78e.js"><link rel="prefetch" href="/assets/js/63.2255ebbb.js"><link rel="prefetch" href="/assets/js/64.54b9c4d1.js"><link rel="prefetch" href="/assets/js/65.4269103a.js"><link rel="prefetch" href="/assets/js/66.4254a4db.js"><link rel="prefetch" href="/assets/js/67.07e69eb5.js"><link rel="prefetch" href="/assets/js/68.69d48590.js"><link rel="prefetch" href="/assets/js/69.e7ed6fdf.js"><link rel="prefetch" href="/assets/js/7.0e647eb4.js"><link rel="prefetch" href="/assets/js/70.b742eec1.js"><link rel="prefetch" href="/assets/js/71.f6faef9f.js"><link rel="prefetch" href="/assets/js/72.44baad6f.js"><link rel="prefetch" href="/assets/js/73.85dfe5ce.js"><link rel="prefetch" href="/assets/js/74.9cc53ad5.js"><link rel="prefetch" href="/assets/js/75.c1abafa2.js"><link rel="prefetch" href="/assets/js/76.1f4a2402.js"><link rel="prefetch" href="/assets/js/77.31e5fecb.js"><link rel="prefetch" href="/assets/js/78.5f2c41b0.js"><link rel="prefetch" href="/assets/js/79.36440deb.js"><link rel="prefetch" href="/assets/js/8.f786070b.js"><link rel="prefetch" href="/assets/js/80.911be0ed.js"><link rel="prefetch" href="/assets/js/81.0db7f016.js"><link rel="prefetch" href="/assets/js/82.9f85d147.js"><link rel="prefetch" href="/assets/js/83.fd5a7fcb.js"><link rel="prefetch" href="/assets/js/84.6d2a85b6.js"><link rel="prefetch" href="/assets/js/85.df1517db.js"><link rel="prefetch" href="/assets/js/86.99d43982.js"><link rel="prefetch" href="/assets/js/87.5af14bd8.js"><link rel="prefetch" href="/assets/js/88.25fcd5e5.js"><link rel="prefetch" href="/assets/js/89.fe6d37b0.js"><link rel="prefetch" href="/assets/js/9.6e4d87fe.js"><link rel="prefetch" href="/assets/js/90.23741760.js"><link rel="prefetch" href="/assets/js/91.1c0ce395.js"><link rel="prefetch" href="/assets/js/92.a8f9195a.js"><link rel="prefetch" href="/assets/js/93.993c541f.js"><link rel="prefetch" href="/assets/js/94.677b759f.js"><link rel="prefetch" href="/assets/js/95.b7200f36.js"><link rel="prefetch" href="/assets/js/96.662deed5.js"><link rel="prefetch" href="/assets/js/97.046062a8.js"><link rel="prefetch" href="/assets/js/98.b87e186f.js"><link rel="prefetch" href="/assets/js/99.ada2570a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c026dc41.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="https://gitee.com/yvanme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yvanme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="https://gitee.com/yvanme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yvanme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>后端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E5%90%8E%E7%AB%AF/" aria-current="page" class="sidebar-link">后端</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>大数据</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/" aria-current="page" class="sidebar-link">大数据</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Azkaban/" aria-current="page" class="sidebar-link">Azkaban</a></li><li><a href="/后端/大数据/Azkaban/Azkaban介绍.html" class="sidebar-link">Azkaban介绍</a></li><li><a href="/后端/大数据/Azkaban/Azkaban使用教程.html" class="sidebar-link">Azkaban使用教程</a></li><li><a href="/后端/大数据/Azkaban/Azkaban安装.html" class="sidebar-link">Centos7下Azkaban搭建</a></li><li><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html" class="active sidebar-link">Centos7下Azkaban搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#jdk安装" class="sidebar-link">jdk安装</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#git安装" class="sidebar-link">git安装</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#azkaban安装" class="sidebar-link">Azkaban安装</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#building-from-source" class="sidebar-link">Building from Source</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#getting-started-with-the-solo-server" class="sidebar-link">Getting started with the Solo Server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#installing-the-solo-server" class="sidebar-link">Installing the Solo Server</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#configuring-https-server-optional" class="sidebar-link">Configuring HTTPS server (Optional)</a></li></ul></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#getting-started-with-the-multi-executor-server" class="sidebar-link">Getting started with the Multi Executor Server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#database-setup" class="sidebar-link">Database setup</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#installing-azkaban-executor-server" class="sidebar-link">Installing Azkaban Executor Server</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#installing-azkaban-web-server" class="sidebar-link">Installing Azkaban Web Server</a></li></ul></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#set-up-azkaban-plugins" class="sidebar-link">Set up Azkaban Plugins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#user-manager-plugins" class="sidebar-link">User Manager Plugins</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#viewer-plugins" class="sidebar-link">Viewer Plugins</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#job-type-plugins" class="sidebar-link">Job Type Plugins</a></li></ul></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#property-overrides" class="sidebar-link">Property Overrides</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#upgrading-db-from-2-1" class="sidebar-link">Upgrading DB from 2.1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#importing-existing-schedules-from-2-1" class="sidebar-link">Importing Existing Schedules from 2.1</a></li></ul></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#upgrading-db-from-2-7-0" class="sidebar-link">Upgrading DB from 2.7.0</a></li><li class="sidebar-sub-header"><a href="/后端/大数据/Azkaban/Azkaban安装之官网版.html#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink/" class="sidebar-link">Flink</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Flume/" class="sidebar-link">Flume</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/HBase/" class="sidebar-link">HBase</a></li><li><a href="/后端/大数据/HBase/HBase安装之集群版.html" class="sidebar-link">HBase安装（集群版）</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hadoop/" class="sidebar-link">Hadoop</a></li><li><a href="/后端/大数据/Hadoop/Hadoop安装之伪集群.html" class="sidebar-link">/后端/大数据/Hadoop/Hadoop安装之伪集群.html</a></li><li><a href="/后端/大数据/Hadoop/Hadoop安装之集群版.html" class="sidebar-link">Hadoop安装（集群版）</a></li><li><a href="/后端/大数据/Hadoop/Hadoop问题汇总.html" class="sidebar-link">Hadoop问题汇总</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Hive/" class="sidebar-link">Hive</a></li><li><a href="/后端/大数据/Hive/Hive安装.html" class="sidebar-link">Hive安装</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Knox/" class="sidebar-link">Knox</a></li><li><a href="/后端/大数据/Knox/Knox安装.html" class="sidebar-link">Centos7下Knox环境搭建</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Livy/" class="sidebar-link">Livy</a></li><li><a href="/后端/大数据/Livy/Livy安装.html" class="sidebar-link">Centos7下Livy环境搭建</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Oozie/" class="sidebar-link">Oozie</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Spark/" class="sidebar-link">Spark</a></li><li><a href="/后端/大数据/Spark/Spark安装之伪集群.html" class="sidebar-link">Centos7下Spark环境搭建（伪分布）</a></li><li><a href="/后端/大数据/Spark/Spark安装之单机版.html" class="sidebar-link">Centos7下Spark环境搭建（单机）</a></li><li><a href="/后端/大数据/Spark/Spark安装之集群版.html" class="sidebar-link">Centos7下Spark环境搭建（集群）</a></li><li><a href="/后端/大数据/Spark/Spark问题汇总.html" class="sidebar-link">Spark问题汇总</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Sqoop/" class="sidebar-link">Sqoop</a></li><li><a href="/后端/大数据/Sqoop/Sqoop安装.html" class="sidebar-link">Sqoop安装</a></li><li><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Zeppelin/" class="sidebar-link">Zeppelin</a></li><li><a href="/后端/大数据/Zeppelin/Zeppelin安装.html" class="sidebar-link">Centos7下Zeppelin搭建</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>服务器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>语言</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>扩展</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>运维</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="centos7下azkaban搭建"><a href="#centos7下azkaban搭建" class="header-anchor">#</a> Centos7下Azkaban搭建</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>[TOC]</p> <p><strong>安装环境：</strong></p> <p><strong>system：CentOS7</strong></p> <p><strong>azkaban:azkaban-3.73.1</strong></p> <h2 id="jdk安装"><a href="#jdk安装" class="header-anchor">#</a> jdk安装</h2> <ol><li><p>解压jdk包</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> -zvxf jdk-8u201-linux-x64.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>配置环境变量</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#修改/etc下profile文件，加入以下配置并使用source /etc/profile命令使之生效</span>

<span class="token comment">#Java</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/apps/jdk1.8.0_201
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar 
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <h2 id="git安装"><a href="#git安装" class="header-anchor">#</a> git安装</h2> <ol><li><p>安装命令</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token function">git</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>查看版本</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> --version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="azkaban安装"><a href="#azkaban安装" class="header-anchor">#</a> Azkaban安装</h2> <p>After version 3.0, we provide two modes: the stand alone “solo-server” mode and distributed multiple-executor mode. The following describes the differences between the two modes.</p> <p>In solo server mode, the DB is embedded H2 and both web server and executor server run in the same process. This should be useful if one just wants to try things out. It can also be used on small scale use cases.</p> <p>The multiple executor mode is for most serious production environment. Its DB should be backed by MySQL instances with master-slave set up. The web server and executor servers should ideally run in different hosts so that upgrading and maintenance shouldn’t affect users. This multiple host setup brings in robust and scalable aspect to Azkaban.</p> <ul><li>Set up the database</li> <li>Configure database to use multiple executors</li> <li>Download and install the Executor Server for each executor configured in database</li> <li>Install Azkaban Plugins</li> <li>Install the Web Server</li></ul> <p>Below are instructions on how to set Azkaban up.</p> <h2 id="building-from-source"><a href="#building-from-source" class="header-anchor">#</a> Building from Source</h2> <p>Azkaban builds use Gradle (downloads automatically when run using gradlew which is the Gradle wrapper) and requires Java 8 or higher.</p> <p>The following commands run on <a href="https://azkaban.readthedocs.io/en/latest/getStarted.html#id1" target="_blank" rel="noopener noreferrer">*<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>nix platforms like Linux, OS X.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Build Azkaban
./gradlew build

# Clean the build
./gradlew clean

# Build and install distributions
./gradlew installDist

# Run tests
./gradlew test

# Build without running tests
./gradlew build -x test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>These are all standard Gradle commands. Please look at Gradle documentation for more info.</p> <p>Gradle creates .tar.gz files inside project directories. eg. ./azkaban-solo-server/build/distributions/azkaban-solo-server-0.1.0-SNAPSHOT.tar.gz. Untar using tar -xvzf path/to/azkaban-<a href="https://azkaban.readthedocs.io/en/latest/getStarted.html#id3" target="_blank" rel="noopener noreferrer">*<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.tar.gz.</p> <h2 id="getting-started-with-the-solo-server"><a href="#getting-started-with-the-solo-server" class="header-anchor">#</a> Getting started with the Solo Server</h2> <p>The solo server is a standalone instance of Azkaban and the simplest to get started with. The solo server has the following advantages.</p> <ul><li><strong>Easy to install</strong> - No MySQL instance is needed. It packages H2 as its main persistence storage.</li> <li><strong>Easy to start up</strong> - Both web server and executor server run in the same process.</li> <li><strong>Full featured</strong> - It packages all Azkaban features. You can use it in normal ways and install plugins for it.</li></ul> <h3 id="installing-the-solo-server"><a href="#installing-the-solo-server" class="header-anchor">#</a> Installing the Solo Server</h3> <p>Follow these steps to get started:</p> <p>\1. Clone the repo:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/azkaban/azkaban.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\2. Build Azkaban and create an installation package:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban; ./gradlew build installDist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\3. Start the solo server:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban-solo-server/build/install/azkaban-solo-server; bin/start-solo.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Azkaban solo server should be all set, by listening to <code>8081</code> port at default to accept incoming network request. So, open a web browser and check out <code>http://localhost:8081/</code></p> <p>\4. Stop server:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bin/shutdown-solo.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The solo-server installation should contain the following directories.</p> <table><thead><tr><th>Folder</th> <th>Description</th></tr></thead> <tbody><tr><td>bin</td> <td>The scripts to start/stop Azkaban solo server</td></tr> <tr><td>conf</td> <td>The configuration files for Azkaban solo server</td></tr> <tr><td>lib</td> <td>The jar dependencies for Azkaban</td></tr> <tr><td>extlib</td> <td>Additional jars that are added to extlib will be added to Azkaban’s classpath</td></tr> <tr><td>plugins</td> <td>the directory where plugins can be installed</td></tr> <tr><td>web</td> <td>The web (css, javascript, image) files for Azkaban web server</td></tr></tbody></table> <p>Inside the <code>conf</code> directory, there should be three files:</p> <ul><li><code>azkaban.private.properties</code> - Used by Azkaban to store secrets like Mysql password</li> <li><code>azkaban.properties</code> - Used by Azkaban for runtime parameters</li> <li><code>global.properties</code> - Global static properties that are passed as shared properties to every workflow and job.</li> <li><code>azkaban-users.xml</code> - Used to add users and roles for authentication. This file is not used if the XmLUserManager is not set up to use it.</li></ul> <p>The <code>The azkaban.properties</code> file is the main configuration file.</p> <h3 id="configuring-https-server-optional"><a href="#configuring-https-server-optional" class="header-anchor">#</a> Configuring HTTPS server (<em>Optional</em>)</h3> <p>Azkaban solo server by default doesn’t use SSL. But you could set it up the same way in a stand alone web server. Here is how:</p> <p>Azkaban web server supports SSL socket connectors, which means a keystore will have to be available. You can follow the steps to generate a valid jetty keystore provided at <a href="https://wiki.eclipse.org/Jetty/Howto/Configure_SSL" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Once a keystore file has been created, Azkaban must be given its location and password. Within <code>azkaban.properties</code> or <code>azkaban.private.properties</code> (recommended), the following properties should be overridden.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>jetty.keystore=keystore
jetty.password=password
jetty.keypassword=password
jetty.truststore=keystore
jetty.trustpassword=password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>And configure ssl port in azkaban.properties:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>jetty.ssl.port=8443
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="getting-started-with-the-multi-executor-server"><a href="#getting-started-with-the-multi-executor-server" class="header-anchor">#</a> Getting started with the Multi Executor Server</h2> <h3 id="database-setup"><a href="#database-setup" class="header-anchor">#</a> Database setup</h3> <p>We suggest users to opt for <strong>Mysql</strong> as Azkaban database, because we build up a few Mysql connection enhancements to facilitate AZ set up, and strengthen service reliability:</p> <ul><li><p>Install Mysql</p> <p>Installation of MySQL DB won’t be covered by these instructions, but you can access the instructions on <a href="https://dev.mysql.com/doc/" target="_blank" rel="noopener noreferrer">MySQL Documentation Site<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p>Set up Mysql</p> <blockquote><ol><li><p>create database for Azkaban.:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Example database creation command, although the db name doesn't need to be 'azkaban'
mysql&gt; CREATE DATABASE azkaban;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>create a mysql user for Azkaban. For example,:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Example database creation command. The user name doesn't need to be 'azkaban'
mysql&gt; CREATE USER 'username'@'%' IDENTIFIED BY 'password';
# give the user INSERT, SELECT, UPDATE, DELETE permission on all tables in the Azkaban db.
mysql&gt; GRANT SELECT,INSERT,UPDATE,DELETE ON azkaban.* to '&lt;username&gt;'@'%' WITH GRANT OPTION;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Mysql Packet Size may need to be re-configured. MySQL may have, by default, a ridiculously low allowable packet size. To increase it, you’ll need to have the property max_allowed_packet set to a higher number, say 1024M. To configure this in linux, open /etc/my.cnf. Somewhere after mysqld, add the following:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[mysqld]
...
max_allowed_packet=1024M
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>To restart MySQL, you can run:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ sudo /sbin/service mysqld restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></blockquote></li> <li><p>Create the Azkaban Tables</p> <p>Run individual table creation scripts from <a href="https://github.com/azkaban/azkaban/tree/master/azkaban-db/src/main/sql" target="_blank" rel="noopener noreferrer">latest table statements<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on the MySQL instance to create your tables.</p> <p>Alternatively, run create-all-sql-<version>.sql generated by build process. The location is the file is at <code>/Users/latang/LNKDRepos/azkaban/azkaban-db/build/distributions/azkaban-db-&lt;version&gt;</code>, after you build azkaban-db module by</version></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban-db; ../gradlew build installDist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="installing-azkaban-executor-server"><a href="#installing-azkaban-executor-server" class="header-anchor">#</a> Installing Azkaban Executor Server</h3> <p>Azkaban Executor Server handles the actual execution of the workflow and jobs. You can build the latest version from the master branch. See here for instructions on <a href="https://azkaban.readthedocs.io/en/latest/getStarted.html#building-from-source" target="_blank" rel="noopener noreferrer">Building from Source<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Extract the package (executor distribution tar.gz from build folder) into a directory after gradle build. There should be the following directories.</p> <table><thead><tr><th>Folder</th> <th>Description</th></tr></thead> <tbody><tr><td>bin</td> <td>The scripts to start/stop Azkaban solo server</td></tr> <tr><td>conf</td> <td>The configuration files for Azkaban solo server</td></tr> <tr><td>lib</td> <td>The jar dependencies for Azkaban</td></tr> <tr><td>extlib</td> <td>Additional jars that are added to extlib will be added to Azkaban’s classpath</td></tr> <tr><td>plugins</td> <td>the directory where plugins can be installed</td></tr></tbody></table> <p>For quick start, we may directly use the Installation directory azkaban/azkaban-exec-server/build/install/azkaban-exec-server generated by gradle. we only need to change mysql username and password inside <code>azkaban.properties</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Mysql Configs
mysql.user=&lt;username&gt;
mysql.password=&lt;password&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then run:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban-exec-server/build/install/azkaban-exec-server
./bin/start-exec.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>After that, remember to activate the executor by calling:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban-exec-server/build/install/azkaban-exec-server
curl -G &quot;localhost:$(&lt;./executor.port)/executor?action=activate&quot; &amp;&amp; echo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then, one executor is ready for use. Users can set up multiple executors by distributing and deploying multiple executor installation distributions.</p> <h3 id="installing-azkaban-web-server"><a href="#installing-azkaban-web-server" class="header-anchor">#</a> Installing Azkaban Web Server</h3> <p>Azkaban Web Server handles project management, authentication, scheduling and trigger of executions. You can build the latest version from the master branch. See here for instructions on <a href="https://azkaban.readthedocs.io/en/latest/getStarted.html#building-from-source" target="_blank" rel="noopener noreferrer">Building from Source<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Extract the package (executor distribution tar.gz from build folder) into a directory after gradle build. There should be the following directories.</p> <table><thead><tr><th>Folder</th> <th>Description</th></tr></thead> <tbody><tr><td>bin</td> <td>The scripts to start/stop Azkaban solo server</td></tr> <tr><td>conf</td> <td>The configuration files for Azkaban solo server</td></tr> <tr><td>lib</td> <td>The jar dependencies for Azkaban</td></tr> <tr><td>web</td> <td>The web (css, javascript, image) files for Azkaban web server</td></tr></tbody></table> <p>For quick start, we may directly use the Installation directory azkaban/azkaban-web-server/build/install/azkaban-web-server generated by gradle. we only need to change mysql username and password inside <code>azkaban.properties</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Mysql Configs
mysql.user=&lt;username&gt;
mysql.password=&lt;password&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then run</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd azkaban-web-server/build/install/azkaban-web-server
./bin/start-web.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then, a multi-executor Azkaban instance is ready for use. Open a web browser and check out <code>http://localhost:8081/</code> You are all set to login to Azkaban UI.</p> <h2 id="set-up-azkaban-plugins"><a href="#set-up-azkaban-plugins" class="header-anchor">#</a> Set up Azkaban Plugins</h2> <p>Azkaban is designed to make non-core functionalities plugin-based, so that</p> <ol><li>they can be selectively installed/upgraded in different environments without changing the core Azkaban, and</li> <li>it makes Azkaban very easy to be extended for different systems.</li></ol> <p>Right now, Azkaban allows for a number of different plugins. On web server side, there are</p> <ul><li>viewer plugins that enable custom web pages to add features to Azkaban. Some of the known implementations include HDFS filesystem viewer, and Reportal.</li> <li>trigger plugins that enable custom triggering methods.</li> <li>user manager plugin that enables custom user authentication methods. For instance, in LinkedIn we have LDAP based user authentication.</li> <li>alerter plugins that enable different alerting methods to users, in addition to email based alerting.</li></ul> <p>On executor server side</p> <ul><li>pluggable job type executors on AzkabanExecutorServer, such as job types for hadoop ecosystem components.</li></ul> <p>We recommend installing these plugins for the best usage of Azkaban. Below are instructions of how to install these plugins to work with Azkaban.</p> <h3 id="user-manager-plugins"><a href="#user-manager-plugins" class="header-anchor">#</a> User Manager Plugins</h3> <p>By default, Azkaban ships with the XMLUserManager class which authenticates users based on a xml file, which is located at <code>conf/azkaban-users.xml</code>.</p> <p>This is not secure and doesn’t serve many users. In real production deployment, you should rely on your own user manager class that suits your need, such as a LDAP based one. The <code>XMLUserManager</code>can still be used for special user accounts and managing user roles. You can find examples of these two cases in the default <code>azkaban-users.xml</code> file.</p> <p>To install your own user manager class, specify in<code>Azkaban-web-server-install-dir/conf/azkaban.properties</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>user.manager.class=MyUserManagerClass
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>and put the containing jar in <code>plugins</code> directory.</p> <h3 id="viewer-plugins"><a href="#viewer-plugins" class="header-anchor">#</a> Viewer Plugins</h3> <h4 id="hdfs-viewer-plugin"><a href="#hdfs-viewer-plugin" class="header-anchor">#</a> HDFS Viewer Plugin</h4> <p>HDFS Viewer Plugin should be installed in AzkabanWebServer plugins directory, which is specified in AzkabanWebServer’s config file, for example, in <code>Azkaban-web-server-install-dir/conf/azkaban.properties</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>viewer.plugins=hdfs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This tells Azkaban to load hdfs viewer plugin from<code>Azkaban-web-server-install-dir/plugins/viewer/hdfs</code>.</p> <p>Extract the <code>azkaban-hdfs-viewer</code> archive to the AzkabanWebServer <code>./plugins/viewer</code> directory. Rename the directory to <code>hdfs</code>, as specified above.</p> <p>Depending on if the hadoop installation is turned on:</p> <ol><li>If the Hadoop installation does not have security turned on, the default config is good enough. One can simply restart <code>AzkabanWebServer</code> and start using the HDFS viewer.</li> <li>If the Hadoop installation does have security turned on, the following configs should be set differently than their default values, in plugin’s config file:</li></ol> <table><thead><tr><th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td><code>azkaban.should.proxy</code></td> <td>Whether Azkaban should proxy as another user to view the hdfs filesystem, rather than Azkaban itself, defaults to <code>true</code></td></tr> <tr><td><code>hadoop.security.manager.class</code></td> <td>The security manager to be used, which handles talking to secure hadoop cluster, defaults to <code>azkaban.security.HadoopSecurity Manager_H_1_0</code> (for hadoop 1.x versions)</td></tr> <tr><td><code>proxy.user</code></td> <td>The Azkaban user configured with kerberos and hadoop. Similar to how oozie should be configured, for secure hadoop installations</td></tr> <tr><td><code>proxy.keytab.location</code></td> <td>The location of the keytab file with which Azkaban can authenticate with Kerberos for the specified <code>proxy.user</code></td></tr></tbody></table> <p>For more Hadoop security related information, see <a href="https://azkaban.readthedocs.io/en/latest/plugins.html#hadoopsecuritymanager" target="_blank" rel="noopener noreferrer">HadoopSecurityManager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="job-type-plugins"><a href="#job-type-plugins" class="header-anchor">#</a> Job Type Plugins</h3> <p>Azkaban has a limited set of built-in job types to run local unix commands and simple java programs. In most cases, you will want to install additional job type plugins, for example, hadoopJava, Pig, Hive, VoldemortBuildAndPush, etc. Some of the common ones are included in azkaban-jobtype archive. Here is how to install:</p> <p>Job type plugins should be installed with AzkabanExecutorServer’s plugins directory, and specified in AzkabanExecutorServer’s config file. For example, in<code>Azkaban-exec-server-install-dir/conf/azkaban.properties</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>azkaban.jobtype.plugin.dir=plugins/jobtypes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This tells Azkaban to load all job types from <code>Azkaban-exec-server-install-dir/plugins/jobtypes</code>. Extract the archive into AzkabanExecutorServer <code>./plugins/</code> directory, rename it to <code>jobtypes</code> as specified above.</p> <p>The following setting is often needed when you run Hadoop Jobs:</p> <table><thead><tr><th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td><code>hadoop.home</code></td> <td>Your <code>$HADOOP_HOME</code> setting.</td></tr> <tr><td><code>jobtype.global.classpath</code></td> <td>The cluster specific hadoop resources, such as hadoop-core jar, and hadoop conf (e.g. <code>${hadoop.home}/hadoop-core-1.0. 4.jar,${hadoop.home}/conf</code>)</td></tr></tbody></table> <p>Depending on if the hadoop installation is turned on:</p> <ul><li>If the hadoop installation does not have security turned on, you can likely rely on the default settings.</li> <li>If the Hadoop installation does have kerberos authentication turned on, you need to fill out the following hadoop settings:</li></ul> <table><thead><tr><th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td><code>hadoop.security.manager.class</code></td> <td>The security manager to be used, which handles talking to secure hadoop cluster, defaults to <code>azkaban.security.HadoopSecurity Manager_H_1_0</code> (for hadoop 1.x versions)</td></tr> <tr><td><code>proxy.user</code></td> <td>The Azkaban user configured with kerberos and hadoop. Similar to how oozie should be configured, for secure hadoop installations</td></tr> <tr><td><code>proxy.keytab.location</code></td> <td>The location of the keytab file with which Azkaban can authenticate with Kerberos for the specified proxy.user</td></tr></tbody></table> <p>For more Hadoop security related information, see <a href="https://azkaban.readthedocs.io/en/latest/plugins.html#hadoopsecuritymanager" target="_blank" rel="noopener noreferrer">HadoopSecurityManager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Finally, start the executor, watch for error messages and check executor server log. For job type plugins, the executor should do minimum testing and let you know if it is properly installed.</p> <hr> <h2 id="property-overrides"><a href="#property-overrides" class="header-anchor">#</a> Property Overrides</h2> <p>Azkaban job is specified with a set of key-value pairs we call properties. There are multiple sources for deciding which properties will finally be a part of job execution. Following table lists out all the sources of properties and their priorities. Please note that if a property occur in multiple sources, then its value from high property source will be used</p> <p>Following properties are visible to the users. These are the same properties which are merged to form <code>jobProps</code> in <code>AbstractProcessJob.java</code></p> <table><thead><tr><th>PropertySource</th> <th>Description</th> <th>Priority</th></tr></thead> <tbody><tr><td><code>global.properties</code> in <code>conf</code> directory</td> <td>These are admin configured properties during Azkaban setup. Global to all jobtypes.</td> <td>Lowest (0)</td></tr> <tr><td><code>common.properties</code> in <code>jobtype</code> directory</td> <td>These are admin configured properties during Azkaban setup. Global to all jobtypes.</td> <td>1</td></tr> <tr><td><code>plugin.properties</code>in <code>jobtype/&lt;jobtype-name&gt;</code>directory</td> <td>These are admin configured properties during Azkaban setup. Restricted to a specific jobtype.</td> <td>2</td></tr> <tr><td><code>common.properties</code> in project zip</td> <td>These are user specified property which apply to all jobs in sibling or descendent directories</td> <td>3</td></tr> <tr><td>Flow properties specified while triggering flow execution</td> <td>These are user specified property. These can be specified from UI or Ajax call but cannot be saved in project zip.</td> <td>4</td></tr> <tr><td><code>{job-name}.job</code> job specification</td> <td>These are user specified property in actual job file</td> <td>Highest (5)</td></tr></tbody></table> <p>Following properties are not visible to the users. Depending on jobtype implementation these properties are used for constraining user jobs and properties. These are the same properties which are merged to form <code>sysProps</code> in <code>AbstractProcessJob.java</code></p> <table><thead><tr><th>PropertySource</th> <th>Description</th> <th>Priority</th></tr></thead> <tbody><tr><td><code>commonprivate.properties</code>in jobtype directory</td> <td>These are admin configured properties during Azkaban setup. Global to all jobtypes.</td> <td>Lowest (0)</td></tr> <tr><td><code>private.properties</code>injobtype/{jobtype-name}directory</td> <td>These are admin configured properties during Azkaban setup. Restricted to a specific jobtype.</td> <td>Highest (1)</td></tr></tbody></table> <p><code>azkaban.properties</code> is another type of properties which are only used for controlling Azkaban webserver and execserver configuration. Please note that <code>jobProps</code>, <code>sysProps</code> and <code>azkaban.properties</code> are 3 different types of properties and are not merged in general (depends on jobtype implementation).</p> <hr> <h2 id="upgrading-db-from-2-1"><a href="#upgrading-db-from-2-1" class="header-anchor">#</a> Upgrading DB from 2.1</h2> <p>If installing Azkaban from scratch, you can ignore this document. This is only for those who are upgrading from 2.1 to 2.5.</p> <p>The <code>update_2.1_to_3.0.sql</code> needs to be run to alter all the tables. This includes several table alterations and a new table.</p> <p>Here are the changes:</p> <ul><li>Alter project_properties table’
<ul><li>Modify ‘name’ column to be 255 characters</li></ul></li> <li>Create new table triggers</li></ul> <h3 id="importing-existing-schedules-from-2-1"><a href="#importing-existing-schedules-from-2-1" class="header-anchor">#</a> Importing Existing Schedules from 2.1</h3> <p>In 3.0, the scheduling system is merged into the new triggering system. The information will be persisted in <code>triggers</code> table in DB. We have a simple tool to import your existing schedules into this new table.</p> <p>After you download and install web server, please run this command <strong>once</strong> from web server install directory:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ bash bin/schedule2trigger.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <h2 id="upgrading-db-from-2-7-0"><a href="#upgrading-db-from-2-7-0" class="header-anchor">#</a> Upgrading DB from 2.7.0</h2> <p>If installing Azkaban from scratch, you can ignore this document. This is only for those who are upgrading from 2.7 to 3.0.</p> <p>The <code>create.executors.sql</code>, <code>update.active_executing_flows.3.0.sql</code>, <code>update.execution_flows.3.0.sql</code>, and <code>create.executor_events.sql</code> needs to be run to alter all the tables. This includes several table alterations and two new table.</p> <p>Here are the changes:</p> <ul><li>Alter active_executing_flows table’
<ul><li>Deleting ‘port’ column</li> <li>Deleting ‘host’ column</li></ul></li> <li>Alter execution_flows table’
<ul><li>Adding an ‘executor_id’ column</li></ul></li> <li>Create new executors table</li> <li>Create new executor events table</li></ul> <h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h2> <p><a href="https://azkaban.readthedocs.io/en/latest/getStarted.html" target="_blank" rel="noopener noreferrer">azkaban安装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/后端/大数据/Azkaban/Azkaban安装.html" class="prev">
        Centos7下Azkaban搭建
      </a></span> <span class="next"><a href="/%E5%90%8E%E7%AB%AF/%E5%A4%A7%E6%95%B0%E6%8D%AE/Flink/">
        Flink
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1a2965df.js" defer></script><script src="/assets/js/2.6627ffb9.js" defer></script><script src="/assets/js/41.a93264c1.js" defer></script>
  </body>
</html>
