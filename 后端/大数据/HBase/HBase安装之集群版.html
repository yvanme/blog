<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HBase安装（集群版）</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.fb1232a2.js" as="script"><link rel="preload" href="/assets/js/2.7b8aa595.js" as="script"><link rel="preload" href="/assets/js/45.8838049f.js" as="script"><link rel="prefetch" href="/assets/js/10.3956e9c0.js"><link rel="prefetch" href="/assets/js/100.45907d98.js"><link rel="prefetch" href="/assets/js/101.a1979b5a.js"><link rel="prefetch" href="/assets/js/102.ad62e1ec.js"><link rel="prefetch" href="/assets/js/103.5bc4f2e3.js"><link rel="prefetch" href="/assets/js/104.f0c1d426.js"><link rel="prefetch" href="/assets/js/105.b8acab66.js"><link rel="prefetch" href="/assets/js/106.63abceda.js"><link rel="prefetch" href="/assets/js/107.040f8404.js"><link rel="prefetch" href="/assets/js/108.ce6e7445.js"><link rel="prefetch" href="/assets/js/109.838e9810.js"><link rel="prefetch" href="/assets/js/11.32a5c154.js"><link rel="prefetch" href="/assets/js/110.c4916867.js"><link rel="prefetch" href="/assets/js/111.4ef4ce76.js"><link rel="prefetch" href="/assets/js/112.fc879400.js"><link rel="prefetch" href="/assets/js/113.6d34c3c8.js"><link rel="prefetch" href="/assets/js/114.41fd81aa.js"><link rel="prefetch" href="/assets/js/115.230b4582.js"><link rel="prefetch" href="/assets/js/116.cf904c82.js"><link rel="prefetch" href="/assets/js/117.0bd414ac.js"><link rel="prefetch" href="/assets/js/118.1f2e5268.js"><link rel="prefetch" href="/assets/js/119.93ce1fca.js"><link rel="prefetch" href="/assets/js/12.de3d20c3.js"><link rel="prefetch" href="/assets/js/120.1a20598b.js"><link rel="prefetch" href="/assets/js/121.4a71ce3e.js"><link rel="prefetch" href="/assets/js/122.cc0e457c.js"><link rel="prefetch" href="/assets/js/123.3291326b.js"><link rel="prefetch" href="/assets/js/124.daaeeaf2.js"><link rel="prefetch" href="/assets/js/125.b9c4c654.js"><link rel="prefetch" href="/assets/js/126.d45e23a4.js"><link rel="prefetch" href="/assets/js/127.6f8ed00e.js"><link rel="prefetch" href="/assets/js/128.6269e16a.js"><link rel="prefetch" href="/assets/js/129.ad542cd9.js"><link rel="prefetch" href="/assets/js/13.3b9575bd.js"><link rel="prefetch" href="/assets/js/130.13b86e9c.js"><link rel="prefetch" href="/assets/js/131.3d619705.js"><link rel="prefetch" href="/assets/js/132.db852035.js"><link rel="prefetch" href="/assets/js/133.50e8050a.js"><link rel="prefetch" href="/assets/js/134.6c853199.js"><link rel="prefetch" href="/assets/js/135.5199a333.js"><link rel="prefetch" href="/assets/js/136.a7ea5608.js"><link rel="prefetch" href="/assets/js/137.65a7ac46.js"><link rel="prefetch" href="/assets/js/138.b42f2c59.js"><link rel="prefetch" href="/assets/js/139.dd423465.js"><link rel="prefetch" href="/assets/js/14.93d9a772.js"><link rel="prefetch" href="/assets/js/140.3f4b5066.js"><link rel="prefetch" href="/assets/js/141.123781cc.js"><link rel="prefetch" href="/assets/js/142.dd95d97e.js"><link rel="prefetch" href="/assets/js/143.fdd9587d.js"><link rel="prefetch" href="/assets/js/144.09e19455.js"><link rel="prefetch" href="/assets/js/145.f3d181fe.js"><link rel="prefetch" href="/assets/js/146.d2b11381.js"><link rel="prefetch" href="/assets/js/147.f7616895.js"><link rel="prefetch" href="/assets/js/148.7e86887d.js"><link rel="prefetch" href="/assets/js/149.1a39fccd.js"><link rel="prefetch" href="/assets/js/15.148492d0.js"><link rel="prefetch" href="/assets/js/150.b93bc087.js"><link rel="prefetch" href="/assets/js/151.ba3d0503.js"><link rel="prefetch" href="/assets/js/152.82e9f2f9.js"><link rel="prefetch" href="/assets/js/153.251ab7b1.js"><link rel="prefetch" href="/assets/js/154.c500794f.js"><link rel="prefetch" href="/assets/js/155.53f7b163.js"><link rel="prefetch" href="/assets/js/156.d1cd35c4.js"><link rel="prefetch" href="/assets/js/157.2edb721e.js"><link rel="prefetch" href="/assets/js/158.7e65c935.js"><link rel="prefetch" href="/assets/js/159.c37b9c3e.js"><link rel="prefetch" href="/assets/js/16.00c9741a.js"><link rel="prefetch" href="/assets/js/160.4c05d797.js"><link rel="prefetch" href="/assets/js/161.79955dc4.js"><link rel="prefetch" href="/assets/js/162.8d334156.js"><link rel="prefetch" href="/assets/js/163.599fae50.js"><link rel="prefetch" href="/assets/js/164.686f71b9.js"><link rel="prefetch" href="/assets/js/165.b8a2d10e.js"><link rel="prefetch" href="/assets/js/166.1c4547c2.js"><link rel="prefetch" href="/assets/js/167.7cdb8a0b.js"><link rel="prefetch" href="/assets/js/168.a32aaaf5.js"><link rel="prefetch" href="/assets/js/169.63d00475.js"><link rel="prefetch" href="/assets/js/17.620c1837.js"><link rel="prefetch" href="/assets/js/170.36c1e757.js"><link rel="prefetch" href="/assets/js/171.45f1ab8c.js"><link rel="prefetch" href="/assets/js/172.66de6c52.js"><link rel="prefetch" href="/assets/js/173.cbf880ca.js"><link rel="prefetch" href="/assets/js/174.2401f327.js"><link rel="prefetch" href="/assets/js/175.064fc180.js"><link rel="prefetch" href="/assets/js/176.d18d0ca2.js"><link rel="prefetch" href="/assets/js/177.7b006416.js"><link rel="prefetch" href="/assets/js/178.74c264b7.js"><link rel="prefetch" href="/assets/js/179.1308e968.js"><link rel="prefetch" href="/assets/js/18.3cd79d74.js"><link rel="prefetch" href="/assets/js/180.5ff7154e.js"><link rel="prefetch" href="/assets/js/181.0f518132.js"><link rel="prefetch" href="/assets/js/19.06908f6b.js"><link rel="prefetch" href="/assets/js/20.61b51eb5.js"><link rel="prefetch" href="/assets/js/21.feab52c3.js"><link rel="prefetch" href="/assets/js/22.3a158ad1.js"><link rel="prefetch" href="/assets/js/23.9d5a5381.js"><link rel="prefetch" href="/assets/js/24.6aee6956.js"><link rel="prefetch" href="/assets/js/25.379fdda3.js"><link rel="prefetch" href="/assets/js/26.a0dc095e.js"><link rel="prefetch" href="/assets/js/27.b7eac53d.js"><link rel="prefetch" href="/assets/js/28.9407dd73.js"><link rel="prefetch" href="/assets/js/29.0bce04d8.js"><link rel="prefetch" href="/assets/js/3.9bab7b5b.js"><link rel="prefetch" href="/assets/js/30.491721cd.js"><link rel="prefetch" href="/assets/js/31.97769a88.js"><link rel="prefetch" href="/assets/js/32.bbac853a.js"><link rel="prefetch" href="/assets/js/33.0a598568.js"><link rel="prefetch" href="/assets/js/34.7b0bd00e.js"><link rel="prefetch" href="/assets/js/35.77c6e609.js"><link rel="prefetch" href="/assets/js/36.6a089f7c.js"><link rel="prefetch" href="/assets/js/37.be5e5cee.js"><link rel="prefetch" href="/assets/js/38.17772da1.js"><link rel="prefetch" href="/assets/js/39.7967c09f.js"><link rel="prefetch" href="/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/assets/js/40.0be77dd9.js"><link rel="prefetch" href="/assets/js/41.44eec76e.js"><link rel="prefetch" href="/assets/js/42.a31a2f83.js"><link rel="prefetch" href="/assets/js/43.10bbf2e5.js"><link rel="prefetch" href="/assets/js/44.866c8b9f.js"><link rel="prefetch" href="/assets/js/46.17135848.js"><link rel="prefetch" href="/assets/js/47.eebc0603.js"><link rel="prefetch" href="/assets/js/48.d4621e71.js"><link rel="prefetch" href="/assets/js/49.7561c10b.js"><link rel="prefetch" href="/assets/js/5.75a3592b.js"><link rel="prefetch" href="/assets/js/50.abe160b3.js"><link rel="prefetch" href="/assets/js/51.ea0f774b.js"><link rel="prefetch" href="/assets/js/52.39574502.js"><link rel="prefetch" href="/assets/js/53.cc357b92.js"><link rel="prefetch" href="/assets/js/54.f00e3ef9.js"><link rel="prefetch" href="/assets/js/55.1daf4eac.js"><link rel="prefetch" href="/assets/js/56.6d3f3023.js"><link rel="prefetch" href="/assets/js/57.2ded9a0a.js"><link rel="prefetch" href="/assets/js/58.0c6af46a.js"><link rel="prefetch" href="/assets/js/59.54f2a062.js"><link rel="prefetch" href="/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/assets/js/60.97fd32e4.js"><link rel="prefetch" href="/assets/js/61.e98e89ef.js"><link rel="prefetch" href="/assets/js/62.e3e3b8fe.js"><link rel="prefetch" href="/assets/js/63.0c8bb4c3.js"><link rel="prefetch" href="/assets/js/64.7105ef89.js"><link rel="prefetch" href="/assets/js/65.cf181aa0.js"><link rel="prefetch" href="/assets/js/66.5da64f7b.js"><link rel="prefetch" href="/assets/js/67.44e3ae6e.js"><link rel="prefetch" href="/assets/js/68.8392d4df.js"><link rel="prefetch" href="/assets/js/69.5c27b612.js"><link rel="prefetch" href="/assets/js/7.b533326e.js"><link rel="prefetch" href="/assets/js/70.0d315182.js"><link rel="prefetch" href="/assets/js/71.d9bd06ce.js"><link rel="prefetch" href="/assets/js/72.81b096f4.js"><link rel="prefetch" href="/assets/js/73.f99580df.js"><link rel="prefetch" href="/assets/js/74.11be9ffd.js"><link rel="prefetch" href="/assets/js/75.31a13e5b.js"><link rel="prefetch" href="/assets/js/76.1cad8b67.js"><link rel="prefetch" href="/assets/js/77.95931e9e.js"><link rel="prefetch" href="/assets/js/78.9b76df26.js"><link rel="prefetch" href="/assets/js/79.ddd62d67.js"><link rel="prefetch" href="/assets/js/8.adc8009a.js"><link rel="prefetch" href="/assets/js/80.617e3440.js"><link rel="prefetch" href="/assets/js/81.557a7211.js"><link rel="prefetch" href="/assets/js/82.7f622558.js"><link rel="prefetch" href="/assets/js/83.94b176c9.js"><link rel="prefetch" href="/assets/js/84.79ed3c3b.js"><link rel="prefetch" href="/assets/js/85.46b0b367.js"><link rel="prefetch" href="/assets/js/86.dc0cc4b8.js"><link rel="prefetch" href="/assets/js/87.102663c7.js"><link rel="prefetch" href="/assets/js/88.8152456c.js"><link rel="prefetch" href="/assets/js/89.a132daa9.js"><link rel="prefetch" href="/assets/js/9.01942828.js"><link rel="prefetch" href="/assets/js/90.d320e71a.js"><link rel="prefetch" href="/assets/js/91.02446897.js"><link rel="prefetch" href="/assets/js/92.187a4d7c.js"><link rel="prefetch" href="/assets/js/93.6fb76df5.js"><link rel="prefetch" href="/assets/js/94.b84d2ff0.js"><link rel="prefetch" href="/assets/js/95.147b7ce5.js"><link rel="prefetch" href="/assets/js/96.d2054dbf.js"><link rel="prefetch" href="/assets/js/97.8147f97a.js"><link rel="prefetch" href="/assets/js/98.c6b18cd9.js"><link rel="prefetch" href="/assets/js/99.09bf6d3d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hbase安装-集群版"><a href="#hbase安装-集群版" class="header-anchor">#</a> HBase安装（集群版）</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>[TOC]</p> <p><strong>环境：CentOS7、hadoop-3.1.2版本</strong></p> <p><strong>主机配置:</strong></p> <table><thead><tr><th>主机名</th> <th>IP地址</th> <th>JDK</th> <th>Hadoop</th></tr></thead> <tbody><tr><td>master</td> <td>192.168.153.130</td> <td>1.8.0_201</td> <td>server.1</td></tr> <tr><td>slave1</td> <td>192.168.153.131</td> <td>1.8.0_201</td> <td>server.2</td></tr> <tr><td>slave2</td> <td>192.168.153.132</td> <td>1.8.0_201</td> <td>server.3</td></tr></tbody></table> <p><strong>安装目录：/apps/hadoop-3.1.2</strong></p> <p><strong>备注：hbase依赖hadoop，因此在安装hbase之前需要安装好hadoop环境</strong></p> <p>​      <strong>1.集群安装规划</strong>
​      <strong>1.1 主机规划</strong></p> <p>​      这里我们选择3台主机搭建Hadoop3.0高可用的分布式集群。</p> <table><thead><tr><th></th> <th>master</th> <th>slave1</th> <th>slave2</th></tr></thead> <tbody><tr><td>Namenode</td> <td>是</td> <td>是</td> <td>是</td></tr> <tr><td>DataNode</td> <td>是</td> <td>是</td> <td>是</td></tr> <tr><td>HMaster</td> <td>是</td> <td>是</td> <td>否</td></tr> <tr><td>HRegionServer</td> <td>是</td> <td>是</td> <td>是</td></tr> <tr><td>Zookeeper</td> <td>是</td> <td>是</td> <td>是</td></tr></tbody></table> <p>​      大家需要注意的是：从Hadoop3.0开始支持更多的Namenode，因为我们只有3台机器，所以这3台机器都配置问Namenode，实际工作中Namenode也不宜过多，否则对集群造成压力。其他角色保持跟Hadoop2.x一致即可。</p> <p>​      <strong>1.2</strong> <strong>软件规划</strong></p> <table><thead><tr><th>软件</th> <th>版本</th></tr></thead> <tbody><tr><td>Jdk</td> <td>Jdk1.8</td></tr> <tr><td>CentOS</td> <td>CentOS7</td></tr> <tr><td>Zookeeper</td> <td>Zookeeper3.4.14</td></tr> <tr><td>Hadoop</td> <td>Hadoop3.2</td></tr> <tr><td>HBase</td> <td>HBase2.2</td></tr></tbody></table> <p>​     需要注意的是：Hadoop3.0最低支持Java8，如果大家还在使用Java7或者更低版本，请升级到Java8。
​     <strong>1.3用户规划</strong>
​     出于权限考虑，Hadoop集群环境安装不要使用root用户，需要大家自己创建相关的用户和用户组，注意创建用户的时候需要设置密码。</p> <table><thead><tr><th>节点名称</th> <th>用户组</th> <th>用户</th></tr></thead> <tbody><tr><td>master</td> <td>hadoop</td> <td>hadoop</td></tr> <tr><td>slave1</td> <td>hadoop</td> <td>hadoop</td></tr> <tr><td>slave2</td> <td>hadoop</td> <td>hadoop</td></tr></tbody></table> <p><strong>1.4数据目录规划</strong></p> <p>​      在搭建Hadoop集群之前，需要规划好所有的软件目录和数据存放目录，便于后期的管理与维护。</p> <table><thead><tr><th>目录名称</th> <th>绝对路径</th></tr></thead> <tbody><tr><td>所有软件存放目录</td> <td>/apps/app</td></tr> <tr><td>所有数据与日志存放目录</td> <td>/apps/hadoop/data/hbase</td></tr></tbody></table> <p><strong>3. 集群安装</strong></p> <ul><li>配置主机名（永久修改主机名）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>hostnamectl --static set-hostname &lt;host-name&gt;
</code></pre></div><ul><li>修改/etc/hosts,加入以下配置，使节点之间可以通过主机名访问</li></ul> <div class="language- extra-class"><pre class="language-text"><code>192.168.153.130 master
192.168.153.131 slave1
192.168.153.132 slave2
</code></pre></div><ul><li><p>关闭防火墙</p> <p>查看防火墙状态</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl status firewalld 
</code></pre></div><p>临时关闭防火墙</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl stop firewalld
</code></pre></div><p>永久关闭防火墙(需要重启才能生效)</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl disable firewalld
</code></pre></div></li> <li><p>关闭selinux
selinux是Linux一个子安全机制，学习环境可以将它禁用</p> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/sysconfig/selinux
</code></pre></div><p>把SELINUX设置成disabled</p> <div class="language- extra-class"><pre class="language-text"><code>SELINUX=disabled
</code></pre></div></li> <li><p>设置节点间免密登陆</p> <ul><li><p>在jmaster上生成公钥私钥</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ssh-keygen
</code></pre></div></li> <li><p>查看公钥私钥</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ll -a
</code></pre></div></li> <li><p>将公钥拷贝到slave1,slave2节点</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ssh-copy-id root@slave1
ssh-copy-id root@slave2
</code></pre></div></li> <li><p>其他两台机器重复此步骤</p></li> <li><p>在slave1上免密登陆slave2</p> <div class="language-shell extra-class"><pre class="language-shell"><code> <span class="token function">ssh</span> root@slave2
</code></pre></div></li></ul></li> <li><p>配置脚本工具</p> <ul><li><p>deploy.conf</p> <div class="language- extra-class"><pre class="language-text"><code>#规划集群角色
master,all,namenode,zookeeper,resourcemanager,
slave1,all,slave,namenode,zookeeper,resourcemanager,
slave2,all,slave,datanode,zookeeper,
</code></pre></div></li> <li><p>deploy.sh</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#set -x</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> -lt <span class="token number">3</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: ./deply.sh srcFile(or Dir) descFile(or Dir) MachineTag&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: ./deply.sh srcFile(or Dir) descFile(or Dir) MachineTag confFile&quot;</span>
  <span class="token builtin class-name">exit</span> 
<span class="token keyword">fi</span>

<span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">dest</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token assign-left variable">tag</span><span class="token operator">=</span><span class="token variable">$3</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token variable">$4</span><span class="token string">'a'</span> <span class="token operator">==</span> <span class="token string">'aa'</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">confFile</span><span class="token operator">=</span>/apps/deploy.conf
<span class="token keyword">else</span> 
  <span class="token assign-left variable">confFile</span><span class="token operator">=</span><span class="token variable">$4</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$confFile</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$src</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">server</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> $confFile<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token string">'^#'</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token string">','</span>$tag<span class="token string">','</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">','</span> <span class="token string">'{print $1}'</span><span class="token variable">`</span></span> 
    <span class="token keyword">do</span>
       <span class="token function">scp</span> <span class="token variable">$src</span> <span class="token variable">$server</span><span class="token string">&quot;:&quot;</span><span class="token variable">${dest}</span>
    <span class="token keyword">done</span> 
  <span class="token keyword">elif</span> <span class="token punctuation">[</span> -d <span class="token variable">$src</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">server</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> $confFile<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token string">'^#'</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token string">','</span>$tag<span class="token string">','</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">','</span> <span class="token string">'{print $1}'</span><span class="token variable">`</span></span> 
    <span class="token keyword">do</span>
       <span class="token function">scp</span> -r <span class="token variable">$src</span> <span class="token variable">$server</span><span class="token string">&quot;:&quot;</span><span class="token variable">${dest}</span>
    <span class="token keyword">done</span> 
  <span class="token keyword">else</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;Error: No source file exist&quot;</span>
  <span class="token keyword">fi</span>

<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Error: Please assign config file or run deploy.sh command with deploy.conf in same directory&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div></li> <li><p>runRemoteCmd.sh</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#set -x</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> -lt <span class="token number">2</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: ./runRemoteCmd.sh Command MachineTag&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: ./runRemoteCmd.sh Command MachineTag confFile&quot;</span>
  <span class="token builtin class-name">exit</span> 
<span class="token keyword">fi</span>

<span class="token assign-left variable">cmd</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">tag</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token variable">$3</span><span class="token string">'a'</span> <span class="token operator">==</span> <span class="token string">'aa'</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  
  <span class="token assign-left variable">confFile</span><span class="token operator">=</span>/apps/deploy.conf
<span class="token keyword">else</span> 
  <span class="token assign-left variable">confFile</span><span class="token operator">=</span><span class="token variable">$3</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$confFile</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">server</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> $confFile<span class="token operator">|</span><span class="token function">grep</span> -v <span class="token string">'^#'</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token string">','</span>$tag<span class="token string">','</span><span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">','</span> <span class="token string">'{print $1}'</span><span class="token variable">`</span></span> 
    <span class="token keyword">do</span>
       <span class="token builtin class-name">echo</span> <span class="token string">&quot;*******************<span class="token variable">$server</span>***************************&quot;</span>
       <span class="token function">ssh</span> <span class="token variable">$server</span> <span class="token string">&quot;source /etc/profile; <span class="token variable">$cmd</span>&quot;</span>
    <span class="token keyword">done</span> 
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Error: Please assign config file or run deploy.sh command with deploy.conf in same directory&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div></li> <li><p>给脚本添加执行权限</p> <div class="language- extra-class"><pre class="language-text"><code> chmod u+x deploy.sh
 chmod u+x runRemoteCmd.sh
</code></pre></div></li></ul></li> <li><p>安装jdk1.8</p> <ul><li><p>使用解压命令解压到当前目录。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> zxvf jdk-8u221-linux-x64.tar.gz
</code></pre></div></li> <li><p>修改etc/profile，在文件结尾追加如下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#java environment</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/apps/jdk1.8.0_221
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar 
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin
</code></pre></div></li> <li><p>保存profile，使之生效</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">source</span> /etc/profile
</code></pre></div></li> <li><p>检验是否安装成功</p> <div class="language-shell extra-class"><pre class="language-shell"><code>java -version
</code></pre></div></li></ul></li> <li><p>安装Zookeeper</p> <ul><li><p>将下载的Zookeeper文件上传到CentOS系统中。</p></li> <li><p>解压文件</p> <div class="language- extra-class"><pre class="language-text"><code>tar -zxvf zookeeper-3.4.14.tar.gz
</code></pre></div></li> <li><p>进入到conf目录</p> <div class="language- extra-class"><pre class="language-text"><code>cd zookeeper-3.4.14/conf
</code></pre></div></li> <li><p>将zoo_sample.cfg拷贝一份为zoo.cfg</p> <div class="language- extra-class"><pre class="language-text"><code>cp zoo_sample.cfg zoo.cfg
</code></pre></div></li> <li><p>修改zoo.cfg配置文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># The number of milliseconds of each tick</span>
<span class="token assign-left variable">tickTime</span><span class="token operator">=</span><span class="token number">2000</span>
<span class="token comment"># The number of ticks that the initial </span>
<span class="token comment"># synchronization phase can take</span>
<span class="token assign-left variable">initLimit</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token comment"># The number of ticks that can pass between </span>
<span class="token comment"># sending a request and getting an acknowledgement</span>
<span class="token assign-left variable">syncLimit</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token comment"># the directory where the snapshot is stored.</span>
<span class="token comment"># do not use /tmp for storage, /tmp here is just </span>
<span class="token comment"># example sakes.</span>
<span class="token comment">#数据存放目录</span>
<span class="token assign-left variable">dataDir</span><span class="token operator">=</span>/tmp/zookeeper
<span class="token assign-left variable">dataLogDir</span><span class="token operator">=</span>/tmp/zookeeper/log
<span class="token comment"># the port at which the clients will connect</span>
<span class="token comment">#服务的端口号</span>
<span class="token assign-left variable">clientPort</span><span class="token operator">=</span><span class="token number">2181</span>
<span class="token comment"># the maximum number of client connections.</span>
<span class="token comment"># increase this if you need to handle more clients</span>
<span class="token comment">#maxClientCnxns=60</span>
<span class="token comment">#</span>
<span class="token comment"># Be sure to read the maintenance section of the </span>
<span class="token comment"># administrator guide before turning on autopurge.</span>
<span class="token comment">#</span>
<span class="token comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span>
<span class="token comment">#</span>
<span class="token comment"># The number of snapshots to retain in dataDir</span>
<span class="token comment">#autopurge.snapRetainCount=3</span>
<span class="token comment"># Purge task interval in hours</span>
<span class="token comment"># Set to &quot;0&quot; to disable auto purge feature</span>
<span class="token comment">#autopurge.purgeInterval=1</span>
server.1<span class="token operator">=</span>master:2888:3888
server.2<span class="token operator">=</span>slave1:2888:3888
server.3<span class="token operator">=</span>slave2:2888:3888

</code></pre></div></li> <li><p>创建ServerID标识</p> <p>除了修改zoo.cfg配置文件外,zookeeper集群模式下还要配置一个myid文件,这个文件需要放在dataDir目录下。</p> <p>这个文件里面有一个数据就是A的值（该A就是zoo.cfg文件中server.A=B:C:D中的A）,在zoo.cfg文件中配置的dataDir路径中创建myid文件。值同时与zoo.cfg文件里面的server.1保持一致，如下</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#192.168.153.130</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">&gt;</span> /tmp/zookeeper/myid
<span class="token comment">#192.168.153.131</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;2&quot;</span> <span class="token operator">&gt;</span> /tmp/zookeeper/myid
<span class="token comment">#192.168.153.132</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;3&quot;</span> <span class="token operator">&gt;</span> /tmp/zookeeper/myid
</code></pre></div></li> <li><p>设置环境变量</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#修改/etc/profile文件</span>
<span class="token function">vi</span> /etc/profile
<span class="token comment">#加入以下配置</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ZOOKEEPER_INSTALL</span><span class="token operator">=</span>/apps/zookeeper-3.4.14
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$ZOOKEEPER_INSTALL</span>/bin
<span class="token comment">#使配置生效</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre></div></li> <li><p>使用runRemoteCmd.sh 脚本，启动所有节点上面的Zookeeper</p> <div class="language- extra-class"><pre class="language-text"><code>runRemoteCmd.sh &quot;/apps/zookeeper-3.4.14/bin/zkServer.sh start&quot; zookeeper
</code></pre></div></li> <li><p>查看所有Zookeeper节点状态</p> <div class="language- extra-class"><pre class="language-text"><code>runRemoteCmd.sh &quot;/apps/zookeeper-3.4.14/bin/zkServer.sh status&quot; zookeeper
</code></pre></div></li></ul></li> <li><p>HBase分布式集群搭建</p> <ul><li><p>下载解压HBase2</p> <div class="language- extra-class"><pre class="language-text"><code>tar -zvxf hbase-2.2.0-bin.tar.gz 
</code></pre></div></li> <li><p><strong>配置hbase-env.sh</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/apps/jdk1.8.0_221
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_LOG_DIR</span><span class="token operator">=</span>/apps/hadoop/data/hbase/logs
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_PID_DIR</span><span class="token operator">=</span>/apps/hadoop/data/hbase/pids
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_MANAGES_ZK</span><span class="token operator">=</span>false
</code></pre></div></li> <li><p><strong>配置hbase-site.xml</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.zookeeper.quorum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>master,slave1,slave2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--指定Zookeeper集群节点--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.zookeeper.property.dataDir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/tmp/zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--指定Zookeeper数据存储目录--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.zookeeper.property.clientPort<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2181<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!--指定Zookeeper端口号--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.rootdir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://mycluster/hbase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!--指定HBase在HDFS上的根目录--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hbase.cluster.distributed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!--指定true为分布式集群部署--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p><strong>配置regionservers</strong></p> <div class="language- extra-class"><pre class="language-text"><code>master
slave1
slave2
</code></pre></div></li> <li><p><strong>配置backup-masters</strong></p> <div class="language- extra-class"><pre class="language-text"><code>slave1
</code></pre></div></li> <li><p><strong>添加hdfs 配置文件</strong></p> <div class="language- extra-class"><pre class="language-text"><code>cp /apps/hadoop-3.1.2/etc/hadoop/core-site.xml /apps/hbase-2.2.0/conf/
cp /apps/hadoop-3.1.2/etc/hadoop/hdfs-site.xml /apps/hbase-2.2.0/conf/
</code></pre></div></li> <li><p><strong>将hbase2安装包分发到其他节点</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code> ./deploy.sh /apps/hbase-2.2.0 /apps/ slave
</code></pre></div></li> <li><p><strong>配置hbase2环境变量，并使用source /etc/profile 使之生效</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#java environment</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/apps/jdk1.8.0_221
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar 
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$JAVA_HOME</span>/bin

<span class="token builtin class-name">export</span> <span class="token assign-left variable">ZOOKEEPER_INSTALL</span><span class="token operator">=</span>/apps/zookeeper-3.4.14
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$ZOOKEEPER_INSTALL</span>/bin

<span class="token builtin class-name">export</span> <span class="token assign-left variable">HADOOP_HOME</span><span class="token operator">=</span>/apps/hadoop-3.1.2
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$HADOOP_HOME</span>/bin

<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_HOME</span><span class="token operator">=</span>/apps/hbase-2.2.0
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$HBASE_HOME</span>/bin
</code></pre></div></li> <li><p><strong>创建hbase目录</strong></p> <div class="language- extra-class"><pre class="language-text"><code>runRemoteCmd.sh &quot;mkdir /apps/hadoop/data/hbase&quot; all
</code></pre></div></li> <li><p><strong>启动HBase</strong></p> <p>一键启动HBase</p> <div class="language- extra-class"><pre class="language-text"><code>bin/start-hbase.sh
</code></pre></div></li> <li><p><strong>测试运行HBase</strong></p> <div class="language- extra-class"><pre class="language-text"><code>http://master:16010/master-status
</code></pre></div></li> <li><p>备注</p> <p>启动HBase访问不了web ui，解决方案如下：</p> <p>清空zookeeper，hadoop目录重新启动格式化</p></li></ul></li> <li><p><strong>HBase使用</strong></p> <ul><li><p>​	<strong>HBase shell</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>bin/hbase shell
<span class="token comment">#查看hbase状态</span>
hbase<span class="token operator">&gt;</span>status
<span class="token comment">#查看hbase版本</span>
hbase<span class="token operator">&gt;</span>version
<span class="token comment">#创建一张表</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:002:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> create <span class="token string">'myhbase'</span>,<span class="token string">'cf'</span>
<span class="token comment">#查看HBase 所有表</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:003:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> list
<span class="token comment">#描述表结构</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:004:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> describe <span class="token string">'myhbase'</span>
<span class="token comment">#删除表</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:005:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> disable <span class="token string">'myhbase'</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:006:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> drop <span class="token string">'myhbase'</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:007:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> list

<span class="token comment">#创建一个表</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:002:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> create <span class="token string">'user'</span>,<span class="token string">'cf'</span>
<span class="token comment">#插入数据</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:name'</span>, <span class="token string">'xiaoli'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:age'</span>, <span class="token string">'24'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:birthday'</span>, <span class="token string">'1987-06-17'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:company'</span>, <span class="token string">'alibaba'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:contry'</span>, <span class="token string">'china'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:province'</span>, <span class="token string">'zhejiang'</span>
put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:city'</span>, <span class="token string">'hangzhou'</span>
<span class="token comment">#扫描表所有数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:011:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> scan <span class="token string">'user'</span>
<span class="token comment">#根据rowkey 获取数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:012:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> get <span class="token string">'user'</span>,<span class="token string">'1'</span>
<span class="token comment">#根据rowkey 更新一条数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:013:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>put <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:age'</span>, <span class="token string">'28'</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:014:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> get <span class="token string">'user'</span>,<span class="token string">'1'</span>
<span class="token comment">#查询表中总记录数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:015:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> count <span class="token string">'user'</span>
<span class="token comment">#删除某一列数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:016:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> delete <span class="token string">'user'</span>, <span class="token string">'1'</span>, <span class="token string">'cf:age'</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:017:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> get <span class="token string">'user'</span>,<span class="token string">'1'</span>
<span class="token comment">#清空hbase 表数据</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:018:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> truncate <span class="token string">'user'</span>
hbase<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:019:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> scan <span class="token string">'user'</span>
</code></pre></div></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fb1232a2.js" defer></script><script src="/assets/js/2.7b8aa595.js" defer></script><script src="/assets/js/45.8838049f.js" defer></script>
  </body>
</html>
