(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{534:function(n,t,s){"use strict";s.r(t);var a=s(44),e=Object(a.a)({},(function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"nginx安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装"}},[n._v("#")]),n._v(" Nginx安装")]),n._v(" "),s("p",[n._v("[TOC]")]),n._v(" "),s("p",[s("strong",[n._v("环境：CentOS7、nginx-1.18.0版本")])]),n._v(" "),s("p",[s("strong",[n._v("安装目录：/apps/nginx-1.18.0")])]),n._v(" "),s("p",[n._v("1、 官网(http://nginx.org/en/download.html)下载nginx。下载地址："),s("a",{attrs:{href:"http://59.80.44.49/nginx.org/download/nginx-1.18.0.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://59.80.44.49/nginx.org/download/nginx-1.18.0.tar.gz"),s("OutboundLink")],1)]),n._v(" "),s("p",[n._v("2、 将下载的nginx文件上传到CentOS系统中。")]),n._v(" "),s("p",[n._v("3、 解压文件")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("tar -zxvf nginx-1.18.0.tar.gz\n")])])]),s("p",[n._v("4、安装依赖")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel\n")])])]),s("p",[n._v("5、安装nginx")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#进入nginx目录\ncd /apps/nginx-1.18.0\n#执行命令\n./configure\n#执行make命令\nmake\n#执行make install命令\nmake install\n")])])]),s("p",[n._v("6、配置文件设置")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("listen 80;代表监听80端口\nserver_name xxx.com;代表外网访问的域名\nlocation / {};代表一个过滤器，/匹配所有请求，我们还可以根据自己的情况定义不同的过滤，比如对静态文件js、css、image制定专属过滤\nroot html;代表站点根目录\nindex index.html;代表默认主页\n")])])]),s("p",[n._v("7、启动nginx")]),n._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[n._v("#默认安装目录为"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("nginx，进入sbin目录\ncd "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("/")]),n._v("sbin\n#启动命令\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("/nginx\n#停止命令\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("/nginx "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("-")]),n._v("s stop\n#重启命令\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("/nginx "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("-")]),n._v("s reload\n")])])]),s("p",[n._v("8、访问nginx")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("http://ip地址:端口\n")])])]),s("p",[n._v("9、设置开机配置")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("在/lib/systemd/system目录下，创建nginx.service文件")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("[Unit]\nDescription=nginx service\nAfter=network.target \n   \n[Service] \nType=forking \nExecStart=/usr/local/nginx/sbin/nginx\nExecReload=/usr/local/nginx/sbin/nginx -s reload\nExecStop=/usr/local/nginx/sbin/nginx -s quit\nPrivateTmp=true \n   \n[Install] \nWantedBy=multi-user.target\n")])])])]),n._v(" "),s("li",[s("p",[n._v("设置开机启动")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#加载开机配置\nsystemctl daemon-reload\n#设置开机启动\nsystemctl enable nginx\n#如果需要关闭开机启动\nsystemctl disable nginx\n")])])])]),n._v(" "),s("li",[s("p",[n._v("Nginx服务管理")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#启动nginx服务\nsystemctl start nginx.service　         \n#停止服务\nsystemctl stop nginx.service　          \n#重新启动服务\nsystemctl restart nginx.service　       \n#查看所有已启动的服务\nsystemctl list-units --type=service     \n#查看服务当前状态\nsystemctl status nginx.service          \n#设置开机自启动\nsystemctl enable nginx.service          \n#停止开机自启动\nsystemctl disable nginx.service         \n")])])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);