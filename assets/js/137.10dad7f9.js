(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{502:function(s,e,n){"use strict";n.r(e);var a=n(27),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"docker安装jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker安装jenkins"}},[s._v("#")]),s._v(" Docker安装Jenkins")]),s._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),n("p",[s._v("[TOC]")]),s._v(" "),n("p",[n("strong",[s._v("安装环境：")])]),s._v(" "),n("p",[n("strong",[s._v("system：CentOS7")])]),s._v(" "),n("h2",{attrs:{id:"jenkins安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jenkins安装"}},[s._v("#")]),s._v(" Jenkins安装")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("拉取jenkins镜像")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker pull jenkins/jenkins:2.251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("本地新建数据存放目录，并设置权限（否则会报权限不够错误）")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(":1000 /apps/jenkins\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("修改/apps/jenkins/hudson.model.UpdateCenter.xml,配置国内插件镜像")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("启动jenkins")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker run -d -p 8080:8080 -p 50000:50000 -v /apps/jenkins:/var/jenkins_home jenkins/jenkins:2.251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("修改/apps/jenkins/updates/default.json,提升插件安装速度")])])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#全局搜索")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#“ www.google.com”替换成“www.baidu.com”")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# “ updates.jenkins-ci.org/download”替换成“ mirrors.tuna.tsinghua.edu.cn/jenkins”")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);