(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{485:function(t,e,s){"use strict";s.r(e);var n=s(44),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Filebeat安装")]),t._v(" "),s("h2",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),s("p",[t._v("[TOC]")]),t._v(" "),s("p",[s("strong",[t._v("主机配置:")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("主机名")]),t._v(" "),s("th",[t._v("IP地址")]),t._v(" "),s("th",[t._v("JDK")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("worker")]),t._v(" "),s("td",[t._v("192.168.153.130")]),t._v(" "),s("td",[t._v("1.8.0_201")])])])]),t._v(" "),s("p",[s("strong",[t._v("安装目录：/apps/filebeat-7.8.1-linux-x86_64")])]),t._v(" "),s("p",[s("strong",[t._v("版本：filebeat-7.8.1")])]),t._v(" "),s("p",[t._v("​      "),s("strong",[t._v("1.filebeat安装")]),t._v("\n​      "),s("strong",[t._v("1.1 将安装文件上传到/apps目录")])]),t._v(" "),s("p",[t._v("​      "),s("strong",[t._v("1.2")]),t._v(" "),s("strong",[t._v("解压文件")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("tar -zvxf filebeat-7.8.1-linux-x86_64.tar.gz\n")])])]),s("p",[t._v("​     "),s("strong",[t._v("1.3修改配置文件filebeat.yml")])]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("###################### Filebeat Configuration Example #########################")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This file is an example configuration file highlighting only the most common")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# options. The filebeat.reference.yml file from the same directory contains all the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# supported options with more comments. You can use it as a reference.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# You can find the full configuration reference here:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# https://www.elastic.co/guide/en/beats/filebeat/index.html")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For more available modules and options, please see the filebeat.reference.yml sample")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# configuration file.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ============================== Filebeat inputs ===============================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filebeat.inputs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Each - is an input. Most options can be set at the input level, so")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# you can use different inputs for various configurations.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Below are the input specific configurations.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" log\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Change to true to enable this input configuration.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置生效input配置")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Paths that should be crawled and fetched. Glob based paths.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置采集日志目录")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /apps/filebeat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("7.8.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("linux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("x86_64/log/"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("*.log")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#- c:\\programdata\\elasticsearch\\logs\\*")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Exclude lines. A list of regular expressions to match. It drops the lines that are")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# matching any regular expression from the list.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#exclude_lines: ['^DBG']")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Include lines. A list of regular expressions to match. It exports the lines that are")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# matching any regular expression from the list.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#include_lines: ['^ERR', '^WARN']")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Exclude files. A list of regular expressions to match. Filebeat drops the files that")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# are matching any regular expression from the list. By default, no files are dropped.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#exclude_files: ['.gz$']")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Optional additional fields. These fields can be freely picked")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# to add additional information to the crawled log files for filtering")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#fields:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  level: debug")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  review: 1")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### Multiline options")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Multiline can be used for log messages spanning multiple lines. This is common")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# for Java Stack Traces or C-Line Continuation")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The regexp Pattern that has to be matched. The example pattern matches all lines starting with [")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#multiline.pattern: ^\\[")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Defines if the pattern set under pattern should be negated or not. Default is false.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#multiline.negate: false")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# Match can be set to "after" or "before". It is used to define if lines should be append to a pattern')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# that was (not) matched before or after or as long as a pattern is not matched based on negate.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Note: After is the equivalent to previous and before is the equivalent to to next in Logstash")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#multiline.match: after")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ============================== Filebeat modules ==============================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filebeat.config.modules")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Glob pattern for configuration loading")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path.config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/modules.d/"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("*.yml")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set to true to enable config reloading")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reload.enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Period on which files under path should be checked for changes")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#reload.period: 10s")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ======================= Elasticsearch template setting =======================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("setup.template.settings")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("index.number_of_shards")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#index.codec: best_compression")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#_source.enabled: false")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================== General ===================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The name of the shipper that publishes the network data. It can be used to group")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# all the transactions sent by a single shipper in the web interface.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#name:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The tags of the shipper are included in their own field with each")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# transaction published.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#tags: ["service-X", "web-tier"]')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Optional fields that you can specify to add additional information to the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# output.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#fields:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  env: staging")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================= Dashboards =================================")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# These settings control loading the sample dashboards to the Kibana index. Loading")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the dashboards is disabled by default and can be enabled either by setting the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# options here or by using the `setup` command.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#setup.dashboards.enabled: false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The URL from where to download the dashboards archive. By default this URL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# has a value which is computed based on the Beat name and version. For released")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# versions, this URL points to the dashboard archive on the artifacts.elastic.co")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# website.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#setup.dashboards.url:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# =================================== Kibana ===================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Starting with Beats version 6.0.0, the dashboards are loaded via the Kibana API.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This requires a Kibana endpoint configuration.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("setup.kibana")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Kibana Host")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Scheme and port can be left out and will be set to the default (http and 5601)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# In case you specify and additional path, the scheme is required: http://localhost:5601/path")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# IPv6 addresses should always be defined as: https://[2001:db8::1]:5601")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#host: "localhost:5601"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Kibana Space ID")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ID of the Kibana Space into which the dashboards should be loaded. By default,")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the Default Space will be used.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#space.id:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# =============================== Elastic Cloud ================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# These settings simplify using Filebeat with the Elastic Cloud (https://cloud.elastic.co/).")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The cloud.id setting overwrites the `output.elasticsearch.hosts` and")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# `setup.kibana.host` options.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# You can find the `cloud.id` in the Elastic Cloud web UI.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#cloud.id:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The cloud.auth setting overwrites the `output.elasticsearch.username` and")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# `output.elasticsearch.password` settings. The format is `<user>:<pass>`.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#cloud.auth:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================== Outputs ===================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configure what output to use when sending the data collected by the beat.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ---------------------------- Elasticsearch Output ----------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#output.elasticsearch:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Array of hosts to connect to.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#hosts: ["localhost:9200"]')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Protocol - either `http` (default) or `https`.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#protocol: "https"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Authentication credentials - either API key or username/password.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#api_key: "id:api_key"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#username: "elastic"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#password: "changeme"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ------------------------------ Logstash Output -------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#output.logstash:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The Logstash hosts")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#hosts: ["localhost:5044"]')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Optional SSL. By default is off.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# List of root certificates for HTTPS server verifications")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#ssl.certificate_authorities: ["/etc/pki/root/ca.pem"]')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Certificate for SSL client authentication")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#ssl.certificate: "/etc/pki/client/cert.pem"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Client Certificate Key")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#ssl.key: "/etc/pki/client/cert.key"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ------------------------------- Console Output -------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置打印到控制台")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("output.console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Boolean flag to enable or disable the output module.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configure JSON encoding")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("codec.json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Pretty-print JSON event")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pretty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configure escaping HTML symbols in strings.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#escape_html: false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================= Processors =================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configure processors to enhance or manipulate events generated by the beat.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("processors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add_host_metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token null important"}},[t._v("~")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add_cloud_metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token null important"}},[t._v("~")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add_docker_metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token null important"}},[t._v("~")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add_kubernetes_metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token null important"}},[t._v("~")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================== Logging ===================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Sets log level. The default log level is info.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Available log levels are: error, warning, info, debug")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logging.level: debug")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# At debug level, you can selectively enable logging only for some components.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# To enable all selectors use ["*"]. Examples of other selectors are "beat",')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# "publish", "service".')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#logging.selectors: ["*"]')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ============================= X-Pack Monitoring ==============================")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Filebeat can export internal metrics to a central Elasticsearch monitoring")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cluster.  This requires xpack monitoring to be enabled in Elasticsearch.  The")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# reporting is disabled by default.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set to true to enable the monitoring reporter.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#monitoring.enabled: false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Sets the UUID of the Elasticsearch cluster under which monitoring data for this")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Filebeat instance will appear in the Stack Monitoring UI. If output.elasticsearch")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# is enabled, the UUID is derived from the Elasticsearch cluster referenced by output.elasticsearch.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#monitoring.cluster_uuid:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Uncomment to send the metrics to Elasticsearch. Most settings from the")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Elasticsearch output are accepted here as well.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Note that the settings should point to your Elasticsearch *monitoring* cluster.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Any setting that is not set is automatically inherited from the Elasticsearch")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# output configuration, so if you have the Elasticsearch output configured such")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# that it is pointing to your Elasticsearch monitoring cluster, you can simply")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uncomment the following line.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#monitoring.elasticsearch:")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ================================= Migration ==================================")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This allows to enable 6.7 migration aliases")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#migration.6_to_7.enabled: true")]),t._v("\n")])])]),s("p",[s("strong",[t._v("1.4启动filebeat")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("./filebeat -c filebeat.yml\n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);