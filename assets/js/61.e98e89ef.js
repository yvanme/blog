(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{419:function(a,s,t){"use strict";t.r(s);var e=t(44),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"centos7下spark环境搭建-单机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos7下spark环境搭建-单机"}},[a._v("#")]),a._v(" Centos7下Spark环境搭建（单机）")]),a._v(" "),t("h2",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),t("p",[a._v("[TOC]")]),a._v(" "),t("p",[t("strong",[a._v("安装环境：")])]),a._v(" "),t("p",[t("strong",[a._v("system：CentOS7")])]),a._v(" "),t("p",[t("strong",[a._v("jdk:jdk-8u201")])]),a._v(" "),t("p",[t("strong",[a._v("hadoop:hadoop-2.7.7")])]),a._v(" "),t("p",[t("strong",[a._v("scala:scala-2.13.0")])]),a._v(" "),t("p",[t("strong",[a._v("spark:spark-2.4.3-bin-hadoop2.7")])]),a._v(" "),t("h2",{attrs:{id:"jdk安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jdk安装"}},[a._v("#")]),a._v(" jdk安装")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("解压jdk包")]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[a._v("tar -zvxf jdk-8u201-linux-x64.tar.gz\n")])])])]),a._v(" "),t("li",[t("p",[a._v("配置环境变量")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("#修改/etc下profile文件，加入以下配置并使用source /etc/profile命令使之生效\n\n#Java\nexport JAVA_HOME=/apps/jdk1.8.0_201\nexport CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar \nexport PATH=$PATH:$JAVA_HOME/bin\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"spark安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spark安装"}},[a._v("#")]),a._v(" Spark安装")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("解压spark包")]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[a._v("tar -zvxf spark-2.4.3-bin-hadoop2.7.tgz\n")])])])]),a._v(" "),t("li",[t("p",[a._v("配置环境变量")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("#修改/etc下profile文件，加入以下配置并使用source /etc/profile命令使之生效\n#Spark\nexport SPARK_HOME=/apps/spark-2.4.3-bin-hadoop2.7\nexport PATH=$PATH:${SPARK_HOME}/bin\n")])])])]),a._v(" "),t("li",[t("p",[a._v("配置Spark")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("进入 ${SPARK_HOME}/conf 目录")])]),a._v(" "),t("li",[t("p",[a._v("执行如下命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cp spark-env.sh.template spark-env.sh\ncp slaves.template slaves\n")])])])]),a._v(" "),t("li",[t("p",[a._v("编辑 "),t("a",{attrs:{href:"http://spark-env.sh/",target:"_blank",rel:"noopener noreferrer"}},[a._v("spark-env.sh"),t("OutboundLink")],1),a._v("，在末尾添加")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#JAVA_HOME：指定的是 Java 的安装目录")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/apps/jdk1.8.0_201\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#SPARK_MASTER_IP：指定的是 Spark 集群的 Master 节点的 IP 地址")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SPARK_MASTER_IP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("localhost\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#SPARK_WORKER_MEMOERY：指定的 Worker 节点能够最大分配给 Excutors 的内存大小")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SPARK_WORKER_MEMORY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("2g\n")])])])])])]),a._v(" "),t("li",[t("p",[a._v("启动Spark")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("进入${SPARK_HOME}/sbin 目录，执行如下命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("./start-all.sh\n")])])])])])]),a._v(" "),t("li",[t("p",[a._v("浏览器访问http://localhost:8080/")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);