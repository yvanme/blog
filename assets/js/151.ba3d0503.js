(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{509:function(s,t,e){"use strict";e.r(t);var a=e(44),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos7使用firewalld打开关闭防火墙与端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos7使用firewalld打开关闭防火墙与端口"}},[s._v("#")]),s._v(" CentOS7使用firewalld打开关闭防火墙与端口")]),s._v(" "),e("h2",{attrs:{id:"介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),e("p",[s._v("[TOC]")]),s._v(" "),e("p",[e("strong",[s._v("环境：CentOS7")])]),s._v(" "),e("h3",{attrs:{id:"_1、firewalld的基本使用。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、firewalld的基本使用。"}},[s._v("#")]),s._v(" 1、firewalld的基本使用。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动：")]),s._v("\nsystemctl start firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看状态： ")]),s._v("\nsystemctl status firewalld \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止：")]),s._v("\nsystemctl stop firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#禁用：")]),s._v("\nsystemctl disable firewalld\n")])])]),e("h3",{attrs:{id:"_2-systemctl是centos7的服务管理工具中主要的工具-它融合之前service和chkconfig的功能于一体。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-systemctl是centos7的服务管理工具中主要的工具-它融合之前service和chkconfig的功能于一体。"}},[s._v("#")]),s._v(" 2.systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动一个服务：")]),s._v("\nsystemctl start firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭一个服务：")]),s._v("\nsystemctl stop firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启一个服务：")]),s._v("\nsystemctl restart firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示一个服务的状态：")]),s._v("\nsystemctl status firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在开机时启用一个服务：")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在开机时禁用一个服务：")]),s._v("\nsystemctl disable firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看服务是否开机启动：")]),s._v("\nsystemctl is-enabled firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看已启动的服务列表：")]),s._v("\nsystemctl list-unit-files"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" enabled\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看启动失败的服务列表：")]),s._v("\nsystemctl --failed\n")])])]),e("h3",{attrs:{id:"_3-配置firewalld-cmd。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置firewalld-cmd。"}},[s._v("#")]),s._v(" 3.配置firewalld-cmd。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看版本：")]),s._v("\nfirewall-cmd --version\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看帮助： ")]),s._v("\nfirewall-cmd --help\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示状态：")]),s._v("\nfirewall-cmd --state\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有打开的端口：")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --list-ports\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新防火墙规则：")]),s._v("\nfirewall-cmd --reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看区域信息: ")]),s._v("\nfirewall-cmd --get-active-zones\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看指定接口所属区域：")]),s._v("\nfirewall-cmd --get-zone-of-interface"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eth0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拒绝所有包：")]),s._v("\nfirewall-cmd --panic-on\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#取消拒绝状态：")]),s._v("\nfirewall-cmd --panic-off\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看是否拒绝：")]),s._v("\nfirewall-cmd --query-panic\n")])])]),e("h3",{attrs:{id:"_4-开启一个端口。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-开启一个端口。"}},[s._v("#")]),s._v(" 4.开启一个端口。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent    （--permanent永久生效，没有此参数重启后失效）\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新载入")]),s._v("\nfirewall-cmd --reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --query-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent\n")])])]),e("h3",{attrs:{id:"_5、常用命令介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、常用命令介绍"}},[s._v("#")]),s._v(" 5、常用命令介绍")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("firewall-cmd --state                           "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看防火墙状态，是否是running")]),s._v("\nfirewall-cmd --reload                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##重新载入配置，比如添加规则之后，需要执行此命令")]),s._v("\nfirewall-cmd --get-zones                       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##列出支持的zone")]),s._v("\nfirewall-cmd --get-services                    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##列出支持的服务，在列表中的服务是放行的")]),s._v("\nfirewall-cmd --query-service "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ftp")]),s._v("               "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看ftp服务是否支持，返回yes或者no")]),s._v("\nfirewall-cmd --add-service"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ftp                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##临时开放ftp服务")]),s._v("\nfirewall-cmd --add-service"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ftp --permanent     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##永久开放ftp服务")]),s._v("\nfirewall-cmd --remove-service"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ftp --permanent  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##永久移除ftp服务")]),s._v("\nfirewall-cmd --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##永久添加80端口 ")]),s._v("\niptables -L -n                                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看规则，这个命令是和iptables的相同的")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" firewall-cmd                               "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##查看帮助")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);